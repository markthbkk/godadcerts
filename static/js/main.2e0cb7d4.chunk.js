(this.webpackJsonpgodaddycerts=this.webpackJsonpgodaddycerts||[]).push([[0],{157:function(e,t,c){},158:function(e,t,c){},160:function(e,t,c){},165:function(e,t,c){},166:function(e,t,c){},172:function(e,t,c){},173:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(130),r=c.n(a),s=(c(157),c(137)),i=c(31),d=c(59),l=c(50),o=(c(158),c(4)),j=function(e){var t=e.date.toLocaleString("en-US",{month:"long"}),c=e.date.toLocaleString("en-US",{day:"2-digit"}),n=e.date.getFullYear();return Object(o.jsxs)("div",{className:"cert-date",children:[Object(o.jsx)("div",{className:"cert-date__day",children:c}),Object(o.jsx)("div",{className:"cert-date__month",children:t}),Object(o.jsx)("div",{className:"cert-date__year",children:n})]})},u=(c(160),c(68)),b=function(e){var t=function(){var t=Object(d.a)(Object(i.a)().mark((function t(c){var n;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(c.target.dataset.certid),t.next=3,u.a.delete("https://certsapi.onrender.com/api/v1/certs/".concat(c.target.dataset.certid));case 3:n=t.sent,console.log(n),204===n.status&&e.deleteHandler(c.target.dataset.certid);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"cert-item-wrapper",children:[Object(o.jsxs)("div",{className:"cert-item-top-row",children:[Object(o.jsx)("div",{className:"Cert-item__subjectName",children:e.subjectName}),Object(o.jsx)("button",{type:"submit",onClick:function(e){return t(e)},className:"deleteCert","data-certid":e.id,children:"X"})]}),Object(o.jsxs)("div",{className:"cert-item",children:[Object(o.jsx)("h2",{children:"Subscription Started"}),Object(o.jsx)(j,{date:e.subStart})]}),Object(o.jsxs)("div",{className:"cert-item",children:[Object(o.jsx)("h2",{children:"Subscription Ends"}),Object(o.jsx)(j,{date:e.subEnd})]}),Object(o.jsxs)("div",{className:"cert-item",children:[Object(o.jsx)("h2",{children:"Certificate Expires"}),Object(o.jsx)(j,{date:e.certExpiry})]})]})},p=(c(165),function(e){return console.log(e),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"infoText2",children:Object(o.jsx)("p",{children:"Sorted by Certificate Expiry"})}),e.items.map((function(t){return Object(o.jsx)(b,{subjectName:t.subjectName,subStart:new Date(t.subscriptionStartDate),subEnd:new Date(t.subscriptionEndDate),certExpiry:new Date(t.certificateExpiryDate),id:t.id,deleteHandler:e.certDeleteHandler},t._id)}))]})}),O=(c(166),c(186)),x=c(187);function h(e){var t=Object(n.useState)(!1),c=Object(l.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(""),j=Object(l.a)(s,2),b=j[0],p=j[1],h=Object(n.useState)(""),m=Object(l.a)(h,2),f=m[0],v=m[1],g=Object(n.useState)(""),N=Object(l.a)(g,2),D=N[0],y=N[1],S=Object(n.useState)(""),E=Object(l.a)(S,2),w=E[0],C=E[1],Y=function(){var t=Object(d.a)(Object(i.a)().mark((function t(){var c,n;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={subjectName:b,subscriptionStartDate:f,subscriptionEndDate:D,certificateExpiryDate:w},t.prev=1,t.next=4,u.a.post("https://certsapi.onrender.com/api/v1/certs",c,{headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}});case 4:n=t.sent,console.log(n),c.id=n.data.id,console.log(c),200===n.status&&(e.submitHandler(c),_()),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0.response.data.message.code,t.t0.response.data.message.keyValue);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(){return t.apply(this,arguments)}}(),k=document.getElementById("addButton"),_=function(){return k.classList.toggle("hidden"),r(!a)};return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{id:"addButton",className:"certFormToggle",children:Object(o.jsx)("button",{type:"submit",onClick:function(){return _()},children:"Add"})}),Object(o.jsx)("div",{children:a?Object(o.jsx)("div",{className:"formLayout",children:Object(o.jsxs)(O.a,{className:"create-form",children:[Object(o.jsx)(O.a.Field,{children:Object(o.jsxs)("div",{className:"label",children:[Object(o.jsx)("label",{children:"Subject Name"}),Object(o.jsx)("input",{placeholder:"Subject Name",onChange:function(e){return p(e.target.value)},spellCheck:"false"})]})}),Object(o.jsx)(O.a.Field,{children:Object(o.jsxs)("div",{className:"label",children:[Object(o.jsx)("label",{children:"Subscription Start Date"}),Object(o.jsx)("input",{placeholder:"YYYY-MM-DD",onChange:function(e){return v(e.target.value)}})]})}),Object(o.jsx)(O.a.Field,{children:Object(o.jsxs)("div",{className:"label",children:[Object(o.jsx)("label",{children:"Subscription End Date"}),Object(o.jsx)("input",{placeholder:"YYYY-MM-DD",onChange:function(e){return y(e.target.value)}})]})}),Object(o.jsx)(O.a.Field,{children:Object(o.jsxs)("div",{className:"label",children:[Object(o.jsx)("label",{children:"Certificate Expiry Date"}),Object(o.jsx)("input",{placeholder:"YYYY-MM-DD",onChange:function(e){return C(e.target.value)}})]})}),Object(o.jsxs)("div",{id:"buttonsRow",children:[Object(o.jsx)("div",{children:Object(o.jsx)(x.a,{className:"submitButton",onClick:Y,type:"submit",children:"Submit"})}),Object(o.jsx)("div",{children:Object(o.jsx)(x.a,{className:"submitButton",onClick:_,type:"submit",children:"Cancel"})})]})]})}):""})]})}c(172);var m=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],r=function(){var e=Object(d.a)(Object(i.a)().mark((function e(){var t,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://certsapi.onrender.com/api/v1/certs");case 2:t=e.sent,console.log(t.data),c=t.data.sort((function(e,t){return Number(new Date(e.certificateExpiryDate))-Number(new Date(t.certificateExpiryDate))})),200===t.status&&a(c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){r()}),[]),Object(o.jsxs)("div",{className:"AppFrame",children:[Object(o.jsxs)("div",{className:"infoText1",children:[Object(o.jsx)("div",{children:Object(o.jsx)("img",{src:"GoDaddyLogo.jpg",alt:"GoDaddy Logo"})}),Object(o.jsx)("h2",{children:"SSL Certificates"})]}),Object(o.jsx)(h,{submitHandler:function(e){a((function(t){return[e].concat(Object(s.a)(t)).sort((function(e,t){return Number(new Date(e.certificateExpiryDate))-Number(new Date(t.certificateExpiryDate))}))}))}}),Object(o.jsx)(p,{items:c,certDeleteHandler:function(e){console.log("Preparing to DELETE ".concat(e)),a((function(t){return t.filter((function(t){return t.id!==e}))}))}})]})};r.a.createRoot(document.getElementById("root")).render(Object(o.jsx)(m,{}))}},[[173,1,2]]]);
//# sourceMappingURL=main.2e0cb7d4.chunk.js.map